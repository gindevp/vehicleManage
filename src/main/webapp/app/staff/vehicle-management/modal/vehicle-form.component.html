<div>
  <form nz-form [formGroup]="formGroup" (ngSubmit)="submitForm()">
    <nz-form-item>
      <nz-form-label [nzLabelAlign]="'left'" [nzSpan]="7" nzRequired>T√™n</nz-form-label>
      <nz-form-control [nzSpan]="12" nzValidatingTip="Validating..." nzErrorTip="Vui l√≤ng nh·∫≠p t√™n!">
        <input nz-input formControlName="name" placeholder="T√™n" />
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzLabelAlign]="'left'" [nzSpan]="7">Lo·∫°i</nz-form-label>
      <nz-form-control [nzSpan]="12">
        <nz-select formControlName="type">
          <nz-option [nzValue]="1" nzLabel="Nh·∫≠p kh·∫©u"></nz-option>
          <nz-option [nzValue]="2" nzLabel="N·ªôi ƒë·ªãa"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzLabelAlign]="'left'" [nzSpan]="7">Ng√†y mua</nz-form-label>
      <nz-form-control [nzSpan]="12">
        <nz-date-picker
          style="width: 100%;"
          nzFormat="dd/MM/yyyy"
          formControlName="purchaseDate"
          [nzDateRender]="tplLunarRender"
          nzPlaceHolder="Ch·ªçn ng√†y"
        ></nz-date-picker>

        <ng-template #tplLunarRender let-current>
          <div class="calendar-cell" [class.today]="isToday(current)">
            <div class="solar-day">
              {{ getDateDay(current) }}
            </div>
            <div class="lunar-day" [class.special]="isSpecial(current)">
              {{ lunarText(current) }}
            </div>
            <!-- ch·∫•m ƒë·ªè cho ng√†y l·ªÖ d∆∞∆°ng -->
            <div class="holiday-dot" *ngIf="isHoliday(current)"></div>
          </div>
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzLabelAlign]="'left'" [nzSpan]="7">Ng√†y ƒëƒÉng k√Ω</nz-form-label>
      <nz-form-control [nzSpan]="12" nzErrorTip="Ng√†y ƒëƒÉng k√Ω">
        <nz-date-picker
          style="width: 100%;"
          nzFormat="dd/MM/yyyy"
          formControlName="registrationDate"
          [nzDateRender]="tplLunarRenderRegis"
          nzPlaceHolder="Ch·ªçn ng√†y"
        ></nz-date-picker>

        <ng-template #tplLunarRenderRegis let-current>
          <div class="calendar-cell" [class.today]="isToday(current)">
            <div class="solar-day">
              {{ getDateDay(current) }}
            </div>
            <div class="lunar-day" [class.special]="isSpecial(current)">
              {{ lunarText(current) }}
            </div>
            <div class="holiday-dot" *ngIf="isHoliday(current)"></div>
          </div>
        </ng-template>
      </nz-form-control>
    </nz-form-item>
  </form>

  <div class="d-flex justify-content-end" style="gap: 12px;">
    <button nz-button nzType="default" (click)="handleCancel()">Hu·ª∑</button>
    <button nz-button nzType="primary" (click)="handleOk()" [nzLoading]="isConfirmLoading">
      {{ idItem ? 'C·∫≠p nh·∫≠t' : 'L∆∞u' }}
    </button>
  </div>
</div>

<!-- üî¥ INTERNAL CSS NGAY TRONG HTML -->
<style>
  .calendar-cell {
    position: relative;
    text-align: center;
    line-height: 1.1;
  }

  .solar-day {
    font-size: 12px;
  }

  /* ng√†y hi·ªán t·∫°i: t√¥ ƒë·ªè s·ªë ng√†y d∆∞∆°ng */
  .calendar-cell.today .solar-day {
    color: red;
    font-weight: 600;
  }

  .lunar-day {
    font-size: 10px;
    opacity: 0.95;
  }

  .lunar-day.special {
    font-weight: 600;
  }

  /* ch·∫•m ƒë·ªè nh·ªè cho ng√†y l·ªÖ d∆∞∆°ng */
  .holiday-dot {
    position: absolute;
    bottom: 2px;
    left: 50%;
    transform: translateX(-50%);
    width: 4px;
    height: 4px;
    border-radius: 50%;
    background-color: red;
  }
</style>
